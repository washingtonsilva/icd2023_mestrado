---
title: "Exame Final - Resolução"
subtitle: "Introdução à Ciência dos Dados 2023"
author: "Seu Nome"
date: "06/06/2023"
output: html_document
---

<style type="text/css">
  body{
  font-size: 12pt;
  text-align: justify
      }
</style>

```{r setup, include = FALSE, warning = FALSE, message = FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

library(nptest)
library(readr)
library(dplyr)
library(pwr)
library(ggplot2)
library(zoo)
library(dynlm)
library(lmtest)
library(DescTools)
```


## Questão 1:


### Questão 1.1

**a.**

```{r}

```


**b.**



**c.**

```{r}

```


### Questão 1.2

```{r}
# dados
amostra <- sample(c(rep(1, 106), rep(0, 94)))

```


### Questão 1.3

```{r}

```




## Questão 2:


Proc. 1) Importando o arquivo de dados

```{r}
path <- "dados/capm.csv"

capm <- read_csv2(path,
                  locale = locale("pt"),
                  col_types = cols(date = col_date(format = "%b/%y"),
                                   sandp = col_double(),
                                   ford = col_double(),
                                   ge = col_double(),
                                   microsoft = col_double(),
                                   oracle = col_double(),
                                   ustb3m = col_double())
                  )
glimpse(capm)
```


Proc. 2) Calculando os retornos compostos continuamente da Oracle e S&P(500)

```{r}
capm <- capm |>
  mutate(
    rsandp = c(NA, 100*diff(log(sandp))),
    roracle = c(NA, 100*diff(log(oracle)))
  ) |> na.omit()
```


Proc. 3) Calculando os retornos excedentes em relação à taxa livre de risco

```{r}
#| eval: false
capm <- capm %>%
  mutate(
    ustb3m = ustb3m / 12,
    resandp = rsandp - ustb3m,
    reoracle = roracle - ustb3m
  )
```


Proc. 4) Transforme `resandp` e `reoracle` em séries temporais da classe `zoo`

```{r}
resandpst <- zoo(x = capm$resandp, order.by = capm$date)
reoraclest <- zoo(x = capm$reoracle, order.by = capm$date)
```


### Questão 2.1

```{r}

```


### Questão 2.2

**a.**


**b.**

```{r}
capm_linear <- lm(reoracle ~ resandp, data = capm)
resettest(capm_linear, type = "regressor")
```


### Questão 2.3



### Questão 2.4

```{r}
JarqueBeraTest(capm_teste$residuals, robust = TRUE) 
```

